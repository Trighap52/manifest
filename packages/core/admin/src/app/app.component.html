<ng-container *ngIf="!isLogin">
  <app-touch-menu class="is-hidden-desktop"></app-touch-menu>
</ng-container>

<app-flash-message></app-flash-message>

<div class="wrapper">
  <div class="columns">
    <aside class="column aside menu px-0 is-hidden-touch" *ngIf="!isLogin">
      <app-side-menu></app-side-menu>
    </aside>
    <div class="column main">
      <main>
        <router-outlet></router-outlet>
      </main>

      <div class="version-checker" *ngIf="!isLogin">
        <div
          class="version-checker__content is-flex is-justify-content-space-between is-align-items-center is-size-5 is-fullwidth"
        >
          <div>
            Proudly built with
            <a href="https://manifest.build" target="_blank">Manifest</a>
          </div>
          <div>
            <span>Version </span>
            <i>{{ appManifest?.manifestVersion }}</i>
            <ng-container *ngIf="appManifest?.environment !== 'production'">
              <span class="has-text-weight-bold">Environment:</span>
              {{ appManifest?.environment }}
            </ng-container>
            <ng-container *ngIf="newVersionAvailable">
              <p class="has-text-weight-bold">
                version {{ latestVersion }} available!
                <!-- TODO: Link to update guide ?  -->
              </p>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
